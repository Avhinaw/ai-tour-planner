import { GoogleGenerativeAI, } from "@google/generative-ai";
  
  const apiKey = "AIzaSyD-QvTttBm8Fwrg35V5ty7YcNeXBeH2720";
  //import.meta.env.GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas,for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with HotelName,Hotel address,Price, hotel image url,geo coordinates,rating,descriptions and suggest itinerary with placeName,Place Details,Place Image Url, Geo Coordinates,ticket Pricing,rating,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a possible 3-day Las Vegas itinerary for a couple on a budget, along with hotel options and details in JSON format.  Please note that pricing and availability can change, so it's always best to double-check.  Also, I'll be using images from a general source since I can't provide real-time images.\n\n```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $100 per night (variable based on dates)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/09/89/9f/exterior.jpg?w=700&h=500&s=1\",\n      \"geoCoordinates\": {\"latitude\": 36.1378, \"longitude\": -115.1665},\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly option on the Strip with a fun, circus-themed atmosphere. Features a casino, various dining options, and the Adventuredome indoor theme park. Basic rooms but decent value.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $120 per night (variable based on dates)\",\n       \"hotelImageUrl\":\"https://media.cntraveler.com/photos/57d4c36314f20ed735326119/master/w_1920%2Cc_limit/excalibur-las-vegas-nevada-exterior.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.0985, \"longitude\": -115.1741},\n      \"rating\": 3.7,\n      \"description\": \"A castle-themed hotel on the southern end of the Strip. Offers budget-friendly rooms, several pools, a casino, and entertainment. Good location for exploring.\"\n    },\n        {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $90 per night (variable based on dates)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/26/7a/c7/88/oyo-hotel-and-casino-las.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1004, \"longitude\": -115.1663},\n      \"rating\": 3.3,\n      \"description\": \"Located just off the Strip, OYO provides a cheaper alternative. Basic rooms, a casino, and close to the action. Great for budget-conscious travelers. \"\n    },\n         {\n      \"hotelName\": \"The LINQ Hotel + Experience\",\n      \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$80 - $150 per night (variable based on dates)\",\n     \"hotelImageUrl\": \"https://images.trvl-media.com/lodging/1000000/620000/617000/616969/22c49df8_z.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1163, \"longitude\": -115.1705},\n      \"rating\": 4.0,\n      \"description\": \"Offers a more modern vibe, right on the Strip, and connects to the LINQ Promenade. Has a variety of rooms and access to dining and the High Roller.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n        \"theme\": \"Exploring the Strip and Free Attractions\",\n      \"best_time_to_visit\": \"Morning/Afternoon\",\n        \"places\": [\n        {\n          \"placeName\": \"The Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Beautiful indoor gardens that change with the seasons. Free to enter. Highly instagrammable!\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/master/entertainment/conservatory-and-gardens/bellagio-conservatory-spring-garden-2023.jpg.imgo.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1127, \"longitude\": -115.1746},\n          \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n          \"timeTravel\": \"10-20 mins(walk/public transport from hotel)\"\n        },\n           {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show with music and lights. Happens every 30 mins in the afternoon/early evening and every 15 mins at night. Free to watch.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/master/entertainment/fountains-of-bellagio/fountains-of-bellagio-mobile.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1119, \"longitude\": -115.1746},\n          \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n           \"timeTravel\": \"Right next to the conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Las Vegas Strip\",\n          \"placeDetails\": \"Enjoy the sights, sounds, and people-watching. Explore different hotel themes.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5e046d6df583290008c39914/master/w_2560%2Cc_limit/Las-Vegas-Strip-GettyImages-1046418860.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1162, \"longitude\": -115.1733},\n           \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n           \"timeTravel\": \"Walkable from multiple locations\"\n        },\n\n        {\n           \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a light and sound show on a canopy. Located in downtown Las Vegas. Free access, shows happen periodically\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2023/06/Fremont_Street_Experience_2022_Full_Canopy_6.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1701, \"longitude\": -115.1410},\n          \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n            \"timeTravel\": \"30 mins drive/public transport from the Strip.\"\n        }\n\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Exploring Downtown and Cultural Activities\",\n      \"best_time_to_visit\": \"Morning/Afternoon\",\n      \"places\": [\n         {\n          \"placeName\": \"The Neon Museum\",\n           \"placeDetails\": \"A graveyard of old Las Vegas neon signs. Offers unique photo opportunities and a glimpse into the city's history. Note: Tickets can be cheaper when booked in advance.\",\n           \"placeImageUrl\": \"https://media.cntraveler.com/photos/5be11a2f63ddc26b009b2f13/master/w_1920%2Cc_limit/Neon-Museum-Exterior.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1715, \"longitude\": -115.1384},\n          \"ticketPricing\": \"$20 - $30\",\n            \"rating\": 4.3,\n          \"timeTravel\": \"5-10 minutes from Downtown\"\n        },\n          {\n          \"placeName\": \"Mob Museum\",\n          \"placeDetails\": \"An engaging museum dedicated to organized crime history. Good for an educational experience.\",\n            \"placeImageUrl\": \"https://media.cntraveler.com/photos/5e2e583b0a31610009228683/master/w_2560%2Cc_limit/mob-museum-exterior-gettyimages-850049918.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1694, \"longitude\": -115.1407},\n            \"ticketPricing\": \"$30 - $35\",\n            \"rating\": 4.4,\n            \"timeTravel\": \"Walkable distance from the Neon museum\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"A shopping and entertainment area created from shipping containers. Unique shops, restaurants, and live entertainment. Can be very lively at night.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/96/4b/5c/container-park-downtown.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1654, \"longitude\": -115.1390},\n          \"ticketPricing\": \"Free to enter (cost for food/activities)\",\n             \"rating\": 4.2,\n           \"timeTravel\":\"5-10 minutes walk\"\n        },\n           {\n          \"placeName\": \" Pawn Stars Gold & Silver Pawn Shop\",\n          \"placeDetails\": \"The famous pawn shop featured in TV show, Pawn Stars. Good for pop-culture fans\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg/1200px-Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1496, \"longitude\": -115.1557},\n          \"ticketPricing\": \"Free entry\",\n            \"rating\": 4.0,\n           \"timeTravel\":\"10-15 minutes drive/public transport\"\n        }\n\n      ]\n    },\n     \"day3\": {\n      \"theme\": \"South Strip and relaxation\",\n        \"best_time_to_visit\": \"Morning/Afternoon\",\n      \"places\": [\n         {\n           \"placeName\": \"M&M's World\",\n          \"placeDetails\":\"A multi-story store dedicated to M&M candy with fun interactive displays. Good for all ages.\",\n          \"placeImageUrl\":\"https://d3thpuk46y9d8j.cloudfront.net/uploads/mms_world_new_v2_900x520_9d0816c21b.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1052, \"longitude\": -115.1708},\n          \"ticketPricing\": \"Free entry (cost for candy/merchandise)\",\n           \"rating\": 4.1,\n            \"timeTravel\":\"15-20 mins by public transport\"\n        },\n         {\n          \"placeName\": \"Coca-Cola Store\",\n            \"placeDetails\":\"Another themed store, this one featuring all things Coca-Cola. It has a huge collection of Coca-Cola merchandise with free tasting.\",\n           \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/17/5d/d6/29/coca-cola-store.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1046, \"longitude\": -115.1705},\n          \"ticketPricing\": \"Free entry (cost for goods)\",\n           \"rating\": 4.2,\n           \"timeTravel\":\"5 mins walk from M&M World\"\n\n        },\n          {\n          \"placeName\": \"Pool Time at Hotel\",\n           \"placeDetails\":\"Relax and enjoy your hotel's pool.Many hotels have nice pools and are free for the hotel guests.\",\n           \"placeImageUrl\":\"https://www.casinos.us/wp-content/uploads/2023/04/Mandalay-Bay-Resort-and-Casino-Pool.jpg\",\n            \"geoCoordinates\": {\"latitude\": \"varies based on hotel\", \"longitude\": \"varies based on hotel\"},\n           \"ticketPricing\": \"Free for Hotel guests\",\n           \"rating\": 4.3,\n           \"timeTravel\":\"Hotel area\"\n        },\n          {\n           \"placeName\":\"The Welcome to Fabulous Las Vegas Sign\",\n            \"placeDetails\":\"A must-see for photo opportunities, the sign is a popular landmark at the south of the strip.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Las_Vegas_Sign_Night.jpg/1200px-Las_Vegas_Sign_Night.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.0826, \"longitude\": -115.1706},\n           \"ticketPricing\": \"Free\",\n            \"rating\":4.5,\n           \"timeTravel\":\"15-20 minutes from the Strip\"\n        }\n\n      ]\n    }\n  }\n}\n```\n**Notes**\n\n*   **Budget:** This itinerary focuses on free or low-cost activities, with an emphasis on exploring the Strip, seeing free shows, and taking advantage of free attractions.\n*  **Hotel Prices:** Hotel prices can change dramatically based on time of year, day of the week and if there are any conventions in town. Check the rates on booking sites before confirming your stay.\n*   **Transportation:** Walking is the best way to see the Strip. Consider using public transportation (buses), ride-sharing, or a combination to go to Downtown or other locations that aren't walking distance.\n*   **Food:** To keep costs down, eat at less expensive restaurants, consider grabbing some food at a convenience store, or pack snacks. You can bring outside food in some places.\n*   **Flexibility:** Feel free to adjust this itinerary based on your interests and energy levels.\n\nRemember to check websites for the most up-to-date information on ticket pricing, opening hours, and any specific COVID-related restrictions before your visit. Have a great time in Las Vegas!\n"},
          ],
        },
      ],
    }); 